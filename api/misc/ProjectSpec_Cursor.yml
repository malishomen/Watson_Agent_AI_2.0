name: "Agent → Cursor Integration Demo"
description: "Демонстрация управления Cursor через Agent API"

steps:
  - name: "Open project in Cursor"
    run: /cursor:project.open
    with:
      root: "D:/AI-Agent"

  - name: "Create + open file"
    run: /cursor:files.create+open
    with:
      filepath: "D:/AI-Agent/notes/TODO.md"
      text: "# TODO\n- [ ] Hook Agent → Cursor\n"

  - name: "Insert scaffold"
    run: /cursor:editor.insert
    with:
      filepath: "D:/AI-Agent/notes/TODO.md"
      position: "end"
      text: "\n- [ ] Add UI tasks\n"

  - name: "Save file"
    run: /cursor:editor.save
    with:
      filepath: "D:/AI-Agent/notes/TODO.md"

  - name: "Run terminal in repo"
    run: /cursor:terminal.run
    with:
      cwd: "D:/AI-Agent"
      command: "dir"

  - name: "Create Python script via Cursor"
    run: /cursor:files.create
    with:
      filepath: "D:/AI-Agent/test_cursor_bridge.py"
      text: "# Generated by Agent → Cursor\nprint('Hello from Agent-controlled Cursor!')\n"

  - name: "Insert imports in script"
    run: /cursor:editor.insert
    with:
      filepath: "D:/AI-Agent/test_cursor_bridge.py"
      position: "start"
      text: "import os\nimport sys\n\n"

  - name: "Save final script"
    run: /cursor:editor.save
    with:
      filepath: "D:/AI-Agent/test_cursor_bridge.py"

  - name: "Run the generated script"
    run: /cursor:terminal.run
    with:
      cwd: "D:/AI-Agent"
      command: "python test_cursor_bridge.py"
