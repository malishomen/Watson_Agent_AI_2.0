name: demo
description: "Пример: CLI утилита + Docker + автосборка"
steps:
  - type: file.write
    path: D:/Projects/demo-app/README.md
    text: |
      # Demo App
      Generated by AI-Agent. Next: build & run.

  - type: shell
    cwd: D:/Projects/demo-app
    command: python -m venv .venv

  - type: file.write
    path: D:/Projects/demo-app/app.py
    text: |
      import sys
      import os
      
      def main():
          print("Hello from Demo App!")
          print(f"Python version: {sys.version}")
          print(f"Working directory: {os.getcwd()}")
          print("Demo app is running successfully!")
      
      if __name__ == "__main__":
          main()

  - type: file.write
    path: D:/Projects/demo-app/requirements.txt
    text: |
      # Demo App Requirements
      # No external dependencies for this simple demo

  - type: file.write
    path: D:/Projects/demo-app/Dockerfile
    text: |
      FROM python:3.11-slim
      WORKDIR /app
      COPY . .
      CMD ["python", "app.py"]

  - type: git.init
    cwd: D:/Projects/demo-app

  - type: git.commit
    cwd: D:/Projects/demo-app
    message: "init demo app"

  - type: docker.build
    cwd: D:/Projects/demo-app
    tag: demo-app:latest
    context: .

  - type: shell
    cwd: D:/Projects/demo-app
    command: python app.py

  - type: file.write
    path: D:/AI-Agent/Artifacts/demo-completed.txt
    text: |
      Demo project completed successfully!
      Generated: {timestamp}
      Project: demo
      Status: Ready for deployment
